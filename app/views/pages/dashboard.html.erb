<div id="dashboard">
  <div class="banner position-relative" style="background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4)), url(<%= @user.pfp %>);">
    <div class="container">
      <h1>
        <i class="fa-solid fa-pen-to-square pen" data-bs-toggle="modal" data-bs-target="#user_edit"></i>
        <%= @user.username %>
      </h1>
    </div>
  </div>


  <div class="container">

    <h2>Release your next big hit:</h2>
    <div class="form">
      <div class="container cover">
        <img src="<%= @user.pfp %>" >
      </div>


      <div class="container create-form">
        <%= simple_form_for @song_new do |f| %>
          <%= f.error_notification %>
          <%= f.input :title, :label => 'Song Title'%>
          <%= f.input :cover, :label => 'Cover Art'%>
          <%= f.input :mp3, :label => 'Song File', as: :file  %>
          <div class="form-btn">
            <%= f.button :submit, value: 'Save', class: "form-submit"%>
          </div>
        <% end %>
      </div>

        <hr>
        <hr>

    </div>

    <h2>Analytics:</h2>

    <div class="analytics">
      <div class="select">
        <i class="fa-solid fa-user"></i>
        <h2>Followers</h2>
        <h3> <strong> XXX </strong> </h3>
        <p> <strong> XXX </strong> in the Past Week </p>
      </div>

      <div class="center">
        <i class="fa-solid fa-chart-simple"></i>
        <h2>Top Track</h2>
        <h3> in the past week</h3>
        <% @top.each do |top| %>
          <div class="card-song" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url(<%= top.cover %>)">
            <%= top.title %>
          </div>
        <% end %>
      </div>

      <div class="select">
        <i class="fa-solid fa-music"></i>
        <h2>Streams</h2>
        <h3> <strong> XXX </strong> </h3>
        <p> <strong> XXX </strong> in the Past Week </p>
      </div>
    </div>

    <h2>Manage Your Discography:</h2>

    <div class="grids">
        <ul>
            <% @songs.each do |song| %>
              <hr>
                <li>
                  <%= link_to edit_song_path(song) do %>
                    <div class="card-playlist">
                      <img src= "<%= song.cover %>"/>
                      <div class="card-playlist-infos">
                        <h2> <%= song.title %> </h2>
                      </div>
                    </div>
                  <% end %>
                </li>
            <% end %>
        </ul>
    </div>

    <h2>Manage Your Playlists:</h2>

    <div class="grids">
          <ul>
            <li>
              <div class="card-playlist">
                <img src="https://upload.wikimedia.org/wikipedia/en/5/56/Joji_-_Smithereens.png" />
                <div class="card-playlist-infos">
                  <h2>SMITHEREENS</h2>
                </div>
              </div>
            </li>

              <hr>

            <li>
              <div class="card-playlist">
                <img src="https://i.scdn.co/image/ab67616d0000b2736fbac72609eca05f5d300c9f" />
                <div class="card-playlist-infos">
                  <h2>Wake up & its Over</h2>
                </div>
              </div>
            </li>

              <hr>

            <li>
              <div class="card-playlist">
                <img src="https://media.mmorpg.com/images/heroes/news/52723.jpg"/>
                <div class="card-playlist-infos">
                  <h2>Radical Summer</h2>
                </div>
              </div>
            </li>
          </ul>
    </div>
  </div>
</div>
<!-- the modal for the user edit -->
<div id="playlist_new">
  <div class="modal fade" id="user_edit" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Edit Your Account details</h1>
        </div>
          <%= simple_form_for @user do |f| %>
            <div class="modal-body">

                  <%= f.error_notification %>
                  <%= f.input :username,
                              required: true,
                              autofocus: true,
                              :placeholder => 'Title of your amazing playlist' %>

                  <%= f.input :pfp,
                              required: true,
                              :placeholder => 'a Cover for your amazing playlist'  %>
            </div>
            <div class="modal-footer">
              <button type="button" class="close-btn" data-bs-dismiss="modal">Close</button>
              <%= f.button :submit, value: 'Save', class: "save-btn" %>
            </div>
          <% end %>
      </div>
    </div>
  </div>
</div>
